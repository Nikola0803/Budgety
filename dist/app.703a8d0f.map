{"version":3,"sources":["app.js"],"names":["budgetController","Expense","id","description","value","percentage","prototype","calcPercentage","totalIncome","Math","round","getPercentage","Income","calculateTotal","type","sum","data","allItems","forEach","cur","totals","exp","inc","budget","addItem","des","val","newItem","ID","length","push","deleteItem","ids","index","map","current","indexOf","splice","calculateBudget","calculatePercentages","getPercentages","allPerc","getBudget","totalInc","totalExp","testing","console","log","UIController","DOMstrings","inputType","inputDescription","inputValue","inputBtn","incomeContainer","expensesContainer","budgetLabel","incomeLabel","expensesLabel","percentageLabel","container","expensesPercLabel","dateLabel","formatNumber","num","numSplit","int","dec","abs","toFixed","split","substr","nodeListForEach","list","callback","i","getInput","document","querySelector","parseFloat","addListItem","obj","html","newHtml","element","replace","insertAdjacentHTML","deleteListItem","selectorID","el","getElementById","parentNode","removeChild","clearFields","fields","fieldsArr","querySelectorAll","Array","slice","call","array","focus","displayBudget","textContent","displayPercentages","percentages","displayMonth","now","months","month","year","Date","getMonth","getFullYear","changedType","classList","toggle","getDOMstrings","controller","budgetCtrl","UICtrl","setupEventListeners","DOM","addEventListener","ctrlAddItem","event","keyCode","which","ctrlDeleteItem","updateBudget","updatePercentages","input","isNaN","itemID","splitID","target","parseInt","init"],"mappings":"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","file":"app.703a8d0f.map","sourceRoot":"..","sourcesContent":["// BUDGET CONTROLLER\nvar budgetController = (function() {\n    \n    var Expense = function(id, description, value) {\n        this.id = id;\n        this.description = description;\n        this.value = value;\n        this.percentage = -1;\n    };\n    \n    \n    Expense.prototype.calcPercentage = function(totalIncome) {\n        if (totalIncome > 0) {\n            this.percentage = Math.round((this.value / totalIncome) * 100);\n        } else {\n            this.percentage = -1;\n        }\n    };\n    \n    \n    Expense.prototype.getPercentage = function() {\n        return this.percentage;\n    };\n    \n    \n    var Income = function(id, description, value) {\n        this.id = id;\n        this.description = description;\n        this.value = value;\n    };\n    \n    \n    var calculateTotal = function(type) {\n        var sum = 0;\n        data.allItems[type].forEach(function(cur) {\n            sum += cur.value;\n        });\n        data.totals[type] = sum;\n    };\n    \n    \n    var data = {\n        allItems: {\n            exp: [],\n            inc: []\n        },\n        totals: {\n            exp: 0,\n            inc: 0\n        },\n        budget: 0,\n        percentage: -1\n    };\n    \n    \n    return {\n        addItem: function(type, des, val) {\n            var newItem, ID;\n            \n            //[1 2 3 4 5], next ID = 6\n            //[1 2 4 6 8], next ID = 9\n            // ID = last ID + 1\n            \n            // Create new ID\n            if (data.allItems[type].length > 0) {\n                ID = data.allItems[type][data.allItems[type].length - 1].id + 1;\n            } else {\n                ID = 0;\n            }\n            \n            // Create new item based on 'inc' or 'exp' type\n            if (type === 'exp') {\n                newItem = new Expense(ID, des, val);\n            } else if (type === 'inc') {\n                newItem = new Income(ID, des, val);\n            }\n            \n            // Push it into our data structure\n            data.allItems[type].push(newItem);\n            \n            // Return the new element\n            return newItem;\n        },\n        \n        \n        deleteItem: function(type, id) {\n            var ids, index;\n            \n            // id = 6\n            //data.allItems[type][id];\n            // ids = [1 2 4  8]\n            //index = 3\n            \n            ids = data.allItems[type].map(function(current) {\n                return current.id;\n            });\n\n            index = ids.indexOf(id);\n\n            if (index !== -1) {\n                data.allItems[type].splice(index, 1);\n            }\n            \n        },\n        \n        \n        calculateBudget: function() {\n            \n            // calculate total income and expenses\n            calculateTotal('exp');\n            calculateTotal('inc');\n            \n            // Calculate the budget: income - expenses\n            data.budget = data.totals.inc - data.totals.exp;\n            \n            // calculate the percentage of income that we spent\n            if (data.totals.inc > 0) {\n                data.percentage = Math.round((data.totals.exp / data.totals.inc) * 100);\n            } else {\n                data.percentage = -1;\n            }            \n            \n            // Expense = 100 and income 300, spent 33.333% = 100/300 = 0.3333 * 100\n        },\n        \n        calculatePercentages: function() {\n            \n            /*\n            a=20\n            b=10\n            c=40\n            income = 100\n            a=20/100=20%\n            b=10/100=10%\n            c=40/100=40%\n            */\n            \n            data.allItems.exp.forEach(function(cur) {\n               cur.calcPercentage(data.totals.inc);\n            });\n        },\n        \n        \n        getPercentages: function() {\n            var allPerc = data.allItems.exp.map(function(cur) {\n                return cur.getPercentage();\n            });\n            return allPerc;\n        },\n        \n        \n        getBudget: function() {\n            return {\n                budget: data.budget,\n                totalInc: data.totals.inc,\n                totalExp: data.totals.exp,\n                percentage: data.percentage\n            };\n        },\n        \n        testing: function() {\n            console.log(data);\n        }\n    };\n    \n})();\n\n\n\n\n// UI CONTROLLER\nvar UIController = (function() {\n    \n    var DOMstrings = {\n        inputType: '.add__type',\n        inputDescription: '.add__description',\n        inputValue: '.add__value',\n        inputBtn: '.add__btn',\n        incomeContainer: '.income__list',\n        expensesContainer: '.expenses__list',\n        budgetLabel: '.budget__value',\n        incomeLabel: '.budget__income--value',\n        expensesLabel: '.budget__expenses--value',\n        percentageLabel: '.budget__expenses--percentage',\n        container: '.container',\n        expensesPercLabel: '.item__percentage',\n        dateLabel: '.budget__title--month'\n    };\n    \n    \n    var formatNumber = function(num, type) {\n        var numSplit, int, dec, type;\n        /*\n            + or - before number\n            exactly 2 decimal points\n            comma separating the thousands\n\n            2310.4567 -> + 2,310.46\n            2000 -> + 2,000.00\n            */\n\n        num = Math.abs(num);\n        num = num.toFixed(2);\n\n        numSplit = num.split('.');\n\n        int = numSplit[0];\n        if (int.length > 3) {\n            int = int.substr(0, int.length - 3) + ',' + int.substr(int.length - 3, 3); //input 23510, output 23,510\n        }\n\n        dec = numSplit[1];\n\n        return (type === 'exp' ? '-' : '+') + ' ' + int + '.' + dec;\n\n    };\n    \n    \n    var nodeListForEach = function(list, callback) {\n        for (var i = 0; i < list.length; i++) {\n            callback(list[i], i);\n        }\n    };\n    \n    \n    return {\n        getInput: function() {\n            return {\n                type: document.querySelector(DOMstrings.inputType).value, // Will be either inc or exp\n                description: document.querySelector(DOMstrings.inputDescription).value,\n                value: parseFloat(document.querySelector(DOMstrings.inputValue).value)\n            };\n        },\n        \n        \n        addListItem: function(obj, type) {\n            var html, newHtml, element;\n            // Create HTML string with placeholder text\n            \n            if (type === 'inc') {\n                element = DOMstrings.incomeContainer;\n                \n                html = '<div class=\"item clearfix\" id=\"inc-%id%\"> <div class=\"item__description\">%description%</div><div class=\"right clearfix\"><div class=\"item__value\">%value%</div><div class=\"item__delete\"><button class=\"item__delete--btn\"><i class=\"ion-ios-close-outline\"></i></button></div></div></div>';\n            } else if (type === 'exp') {\n                element = DOMstrings.expensesContainer;\n                \n                html = '<div class=\"item clearfix\" id=\"exp-%id%\"><div class=\"item__description\">%description%</div><div class=\"right clearfix\"><div class=\"item__value\">%value%</div><div class=\"item__percentage\">21%</div><div class=\"item__delete\"><button class=\"item__delete--btn\"><i class=\"ion-ios-close-outline\"></i></button></div></div></div>';\n            }\n            \n            // Replace the placeholder text with some actual data\n            newHtml = html.replace('%id%', obj.id);\n            newHtml = newHtml.replace('%description%', obj.description);\n            newHtml = newHtml.replace('%value%', formatNumber(obj.value, type));\n            \n            // Insert the HTML into the DOM\n            document.querySelector(element).insertAdjacentHTML('beforeend', newHtml);\n        },\n        \n        \n        deleteListItem: function(selectorID) {\n            \n            var el = document.getElementById(selectorID);\n            el.parentNode.removeChild(el);\n            \n        },\n        \n        \n        clearFields: function() {\n            var fields, fieldsArr;\n            \n            fields = document.querySelectorAll(DOMstrings.inputDescription + ', ' + DOMstrings.inputValue);\n            \n            fieldsArr = Array.prototype.slice.call(fields);\n            \n            fieldsArr.forEach(function(current, index, array) {\n                current.value = \"\";\n            });\n            \n            fieldsArr[0].focus();\n        },\n        \n        \n        displayBudget: function(obj) {\n            var type;\n            obj.budget > 0 ? type = 'inc' : type = 'exp';\n            \n            document.querySelector(DOMstrings.budgetLabel).textContent = formatNumber(obj.budget, type);\n            document.querySelector(DOMstrings.incomeLabel).textContent = formatNumber(obj.totalInc, 'inc');\n            document.querySelector(DOMstrings.expensesLabel).textContent = formatNumber(obj.totalExp, 'exp');\n            \n            if (obj.percentage > 0) {\n                document.querySelector(DOMstrings.percentageLabel).textContent = obj.percentage + '%';\n            } else {\n                document.querySelector(DOMstrings.percentageLabel).textContent = '---';\n            }\n            \n        },\n        \n        \n        displayPercentages: function(percentages) {\n            \n            var fields = document.querySelectorAll(DOMstrings.expensesPercLabel);\n            \n            nodeListForEach(fields, function(current, index) {\n                \n                if (percentages[index] > 0) {\n                    current.textContent = percentages[index] + '%';\n                } else {\n                    current.textContent = '---';\n                }\n            });\n            \n        },\n        \n        \n        displayMonth: function() {\n            var now, months, month, year;\n            \n            now = new Date();\n            //var christmas = new Date(2016, 11, 25);\n            \n            months = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];\n            month = now.getMonth();\n            \n            year = now.getFullYear();\n            document.querySelector(DOMstrings.dateLabel).textContent = months[month] + ' ' + year;\n        },\n        \n        \n        changedType: function() {\n            \n            var fields = document.querySelectorAll(\n                DOMstrings.inputType + ',' +\n                DOMstrings.inputDescription + ',' +\n                DOMstrings.inputValue);\n            \n            nodeListForEach(fields, function(cur) {\n               cur.classList.toggle('red-focus'); \n            });\n            \n            document.querySelector(DOMstrings.inputBtn).classList.toggle('red');\n            \n        },\n        \n        \n        getDOMstrings: function() {\n            return DOMstrings;\n        }\n    };\n    \n})();\n\n\n\n\n// GLOBAL APP CONTROLLER\nvar controller = (function(budgetCtrl, UICtrl) {\n    \n    var setupEventListeners = function() {\n        var DOM = UICtrl.getDOMstrings();\n        \n        document.querySelector(DOM.inputBtn).addEventListener('click', ctrlAddItem);\n\n        document.addEventListener('keypress', function(event) {\n            if (event.keyCode === 13 || event.which === 13) {\n                ctrlAddItem();\n            }\n        });\n        \n        document.querySelector(DOM.container).addEventListener('click', ctrlDeleteItem);\n        \n        document.querySelector(DOM.inputType).addEventListener('change', UICtrl.changedType);        \n    };\n    \n    \n    var updateBudget = function() {\n        \n        // 1. Calculate the budget\n        budgetCtrl.calculateBudget();\n        \n        // 2. Return the budget\n        var budget = budgetCtrl.getBudget();\n        \n        // 3. Display the budget on the UI\n        UICtrl.displayBudget(budget);\n    };\n    \n    \n    var updatePercentages = function() {\n        \n        // 1. Calculate percentages\n        budgetCtrl.calculatePercentages();\n        \n        // 2. Read percentages from the budget controller\n        var percentages = budgetCtrl.getPercentages();\n        \n        // 3. Update the UI with the new percentages\n        UICtrl.displayPercentages(percentages);\n    };\n    \n    \n    var ctrlAddItem = function() {\n        var input, newItem;\n        \n        // 1. Get the field input data\n        input = UICtrl.getInput();        \n        \n        if (input.description !== \"\" && !isNaN(input.value) && input.value > 0) {\n            // 2. Add the item to the budget controller\n            newItem = budgetCtrl.addItem(input.type, input.description, input.value);\n\n            // 3. Add the item to the UI\n            UICtrl.addListItem(newItem, input.type);\n\n            // 4. Clear the fields\n            UICtrl.clearFields();\n\n            // 5. Calculate and update budget\n            updateBudget();\n            \n            // 6. Calculate and update percentages\n            updatePercentages();\n        }\n    };\n    \n    \n    var ctrlDeleteItem = function(event) {\n        var itemID, splitID, type, ID;\n        \n        itemID = event.target.parentNode.parentNode.parentNode.parentNode.id;\n        \n        if (itemID) {\n            \n            //inc-1\n            splitID = itemID.split('-');\n            type = splitID[0];\n            ID = parseInt(splitID[1]);\n            \n            // 1. delete the item from the data structure\n            budgetCtrl.deleteItem(type, ID);\n            \n            // 2. Delete the item from the UI\n            UICtrl.deleteListItem(itemID);\n            \n            // 3. Update and show the new budget\n            updateBudget();\n            \n            // 4. Calculate and update percentages\n            updatePercentages();\n        }\n    };\n    \n    \n    return {\n        init: function() {\n            console.log('Application has started.');\n            UICtrl.displayMonth();\n            UICtrl.displayBudget({\n                budget: 0,\n                totalInc: 0,\n                totalExp: 0,\n                percentage: -1\n            });\n            setupEventListeners();\n        }\n    };\n    \n})(budgetController, UIController);\n\n\ncontroller.init();"]}